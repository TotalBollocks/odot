<h1><%= @todo_list.title %></h1>

<ul class="todo_items">
  <% @todo_list.todo_items.each do |item| %>
    <li id="<%= dom_id item %>">
      <%= item.content %>
      <%= link_to "Edit", [:edit, @todo_list, item] %>
      <%= link_to "Delete", [@todo_list, item], method: :delete, data: { confirm: "Are you sure?" } %>
      <% if item.completed_at.blank? %>
      <%= link_to "Mark complete", [:complete, @todo_list, item], method: :patch %>
      <% else %>
      <%= item.completed_at %>
      <% end %>
    </li>
  <% end %>
</ul>

<%= link_to "Add Item", new_todo_list_todo_item_path %>